<div *ngIf="item; else loading">
  <mat-card>
    <mat-card-title>{{ item.name }}</mat-card-title>
    <mat-card-content>
      <div style="display: flex; align-items: flex-start; gap: 2rem">
        <img
          src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?auto=format&fit=crop&w=180&q=80"
          alt="Tool placeholder"
          title="Tool Image"
          style="
            width: 180px;
            height: 180px;
            object-fit: cover;
            border: 1px solid #ccc;
            border-radius: 8px;
            background: #fafafa;
          "
        />
        <div>
          <p><strong>Type:</strong> {{ item.type }}</p>
          <p><strong>Quantity:</strong> {{ item.quantity }}</p>
          <p><strong>Location:</strong> {{ item.location }}</p>
          <p><strong>Price:</strong> ${{ item.price }}</p>
          <p *ngIf="item.description">
            <strong>Description:</strong> {{ item.description }}
          </p>
        </div>
      </div>
    </mat-card-content>
    <div
      style="display: flex; gap: 1rem; margin-top: 1.5rem; align-items: center"
    >
      <button
        mat-raised-button
        color="accent"
        (click)="addToCart()"
        [disabled]="!item || item.quantity === 0 || adding"
      >
        Add to Cart
      </button>
      <span
        *ngIf="item && item.quantity === 0"
        style="color: #b71c1c; font-size: 0.95em"
        >Out of stock</span
      >
      <button mat-button color="primary" (click)="goBack()">
        Back to Inventory
      </button>
    </div>
  </mat-card>
</div>
<ng-template #loading>
  <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
</ng-template>
